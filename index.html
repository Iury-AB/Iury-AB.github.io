<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title id="pagina">Ficha de Personagem</title>
  <link href="styles.css" rel="stylesheet">
  <link rel="icon" href="img/hoffens icone.png" type="image/x-icon">
</head>
<body>

  <div id="top-nav-bar" class="barra-superior">
    <div id="pagetop">

      <button class="botao-img" style="margin-left: 10px;">
        <img src="img/sidebar.png" alt="Abrir barra lateral">
      </button>

      <img src="img/hoffens_logo_cheia_invertida.png" style="width: 54px; height: 50px; padding: 10px;">
      <span style="font-family: NerveAgent; font-size: 30px;">Hoffens Path</span>

      <select id="listaFichas" onchange="carregarFicha(this.value)" class="botao">
        <option value="selecionar">— selecionar personagem —</option>
      </select>
      
    </div>
  </div>

  <div class="sheet">

    <div class="bloco header-grid">

      <div class="field span-2">
        <label for="personagem">Personagem</label>
        <input type="text" id="personagem">
      </div>

      <div class="field span-2">
        <label for="jogador">Jogador</label>
        <input type="text" id="jogador">
      </div>

      <div class="field">
        <label for="totalPontos">Total de Pontos</label>
        <input type="number" id="totalPontos" class="dependente">
      </div>

      <div class="field">
        <label for="nivelPoder">Nível de Poder</label>
        <input type="number" id="nivelPoder" class="dependente">
      </div>

      <div class="field">
        <label for="genero">Gênero</label>
        <input type="text" id="genero">
      </div>

      <div class="field">
        <label for="idade">Idade</label>
        <input type="number" id="idade">
      </div>

      <div class="field">
        <label for="altura">Altura</label>
        <input type="text" id="altura">
      </div>

      <div class="field">
        <label for="peso">Peso</label>
        <input type="text" id="peso">
      </div>

      <div class="field">
        <label for="olhos">Olhos</label>
        <input type="text" id="olhos">
      </div>

      <div class="field">
        <label for="cabelos">Cabelos</label>
        <input type="text" id="cabelos">
      </div>

      <div class="field span-2">
        <label for="grupo">Grupo Afiliado</label>
        <input type="text" id="grupo">
      </div>

      <div class="field span-2">
        <label for="base">Base de Operações</label>
        <input type="text" id="base">
      </div>

    </div>

    <div class="bloco habilities-skills-adv">

      <div class="sub-grupo" style="grid-template-columns: 44% 56%;">
      
        <div class="bloco habilities" id="habilidades">
          <h1 class="span-2" style="justify-self: left;">Habilidades</h1>
          <div class="hability stat">
            <label for="forca">Força</label><br>
            <input class="dependente habilidade" type="number" id="forca" oninput="calcularCarga()">
          </div>

          <div class="sub-hab">
            <label for="carga">Carga</label><br>
            <input type="text" id="carga" readonly>
            <script>
              function calcularCarga() {
                const hab = parseInt(document.getElementById("forca").value, 10);
                let Forca = "---";

                if (hab === -5) {
                  Forca = "1 Kg";
                } else if (hab === -4) {
                  Forca = "2 Kg";
                } else if (hab === -3) {
                  Forca = "4 Kg";
                } else if (hab === -2) {
                  Forca = "6 Kg";
                } else if (hab === -1) {
                  Forca = "8 Kg";
                } else if (hab === 0) {
                  Forca = "10 Kg";
                } else if (hab === 1) {
                  Forca = "20 Kg";
                } else if (hab === 2) {
                  Forca = "30 Kg";
                } else if (hab === 3) {
                  Forca = "40 Kg";
                } else if (hab === 4) {
                  Forca = "50 Kg";
                } else if (hab === 5) {
                  Forca = "100 Kg";
                } else if (hab === 6) {
                  Forca = "120 Kg";
                } else if (hab === 7) {
                  Forca = "140 Kg";
                } else if (hab === 8) {
                  Forca = "160 Kg";
                } else if (hab === 9) {
                  Forca = "180 Kg";
                } else if (hab === 10) {
                  Forca = "400 Kg";
                } else if (hab === 11) {
                  Forca = "500 Kg";
                } else if (hab === 12) {
                  Forca = "600 Kg";
                } else if (hab === 13) {
                  Forca = "700 Kg";
                } else if (hab === 14) {
                  Forca = "800 Kg";
                } else if (hab === 15) {
                  Forca = "1,6 ton";
                } else if (hab === 16) {
                  Forca = "1,8 ton";
                } else if (hab === 17) {
                  Forca = "2 ton";
                } else if (hab === 18) {
                  Forca = "2,2 ton";
                } else if (hab === 19) {
                  Forca = "2,4 ton";
                } else if (hab === 20) {
                  Forca = "5 ton";
                } else if (hab === 21) {
                  Forca = "5,5 ton";
                } else if (hab === 22) {
                  Forca = "6 ton";
                } else if (hab === 23) {
                  Forca = "6,5 ton";
                } else if (hab === 24) {
                  Forca = "7 ton";
                } else if (hab === 25) {
                  Forca = "15 ton";
                } else if (hab === 26) {
                  Forca = "16 ton";
                } else if (hab === 27) {
                  Forca = "17 ton";
                } else if (hab === 28) {
                  Forca = "18 ton";
                } else if (hab === 29) {
                  Forca = "19 ton";
                } else if (hab === 30) {
                  Forca = "50 ton";
                }

                document.getElementById("carga").value = Forca;
              }
            </script>
          </div>

          <div class="hability stat">
            <label for="agilidade">Agilidade</label><br>
            <input class="dependente habilidade" type="number" id="agilidade" oninput="calcularDeslocamento()">
          </div>

          <div class="sub-hab">
            <label for="deslocamento">Deslocamento</label><br>
            <input type="text" id="deslocamento" readonly>
            <script>
              function calcularDeslocamento() {
                const agilidade = parseInt(document.getElementById("agilidade").value, 10);
                let deslocamento = 0;
                if(agilidade >= 0){
                  deslocamento = (agilidade + 1)*1.5;
                }else if(agilidade < 0){
                  deslocamento = Math.pow(2, agilidade+1);
                  deslocamento = deslocamento.toFixed(2)
                }
                document.getElementById("deslocamento").value = deslocamento + " m";
              }
            </script>
          </div>

          <div class="hability stat">
            <label for="luta">Luta</label><br>
            <input class="dependente habilidade" type="number" id="luta">
          </div>

          <div class="hability stat">
            <label for="vigor">Vigor</label><br>
            <input class="dependente habilidade" type="number" id="vigor" oninput="calcularVida();calcularEstamina();">
          </div>

          <div class="hability stat">
            <label for="intelecto">Intelecto</label><br>
            <input class="dependente habilidade" type="number" id="intelecto">
          </div>

          <div class="hability stat">
            <label for="prontidao">Prontidão</label><br>
            <input class="dependente habilidade" type="number" id="prontidao">
          </div>

          <div class="hability stat">
            <label for="destreza">Destreza</label><br>
            <input class="dependente habilidade" type="number" id="destreza">
          </div>

          <div class="hability stat">
            <label for="presenca">Presença</label><br>
            <input class="dependente habilidade" type="number" id="presenca">
          </div>

        </div>

        <div>
          <div class="bloco defenses">
            <h1>Defesa</h1>
            <p class="normal-text" style="font-size: 13px;text-align: center;">Total</p>
            <p class="normal-text" style="font-size: 13px;text-align: center;">Grad. Defesa</p>
            <p class="normal-text" style="font-size: 13px;text-align: center;">Outros</p>
            <p class="normal-text" style="font-size: 13px;text-align: center;color: var(--cor-secundaria);">
              Max
            </p>

            <span class="normal-text" style="font-size: 20px;">
              <span style="font-size: 13px;">(Agi)</span> Esquiva
            </span>
            <div class="sub-hab">
              <input type="number" id="esquiva-total" readonly>
            </div>
            <div class="stat">
              <input class="dependente defesa" type="number" id="esquiva-grad">
            </div>
            <div class="stat">
              <input class="dependente" type="number" id="esquiva-outros">
            </div>
            <div class="small-number">
              <input type="number" id="esquiva-max" readonly>
            </div>

            <span class="normal-text" style="font-size: 20px;">
              <span style="font-size: 13px;">(Lut)</span> Aparar
            </span>
            <div class="sub-hab">
              <input type="number" id="aparar-total" readonly>
            </div>
            <div class="stat">
              <input class="dependente defesa" type="number" id="aparar-grad">
            </div>
            <div class="stat">
              <input class="dependente" type="number" id="aparar-outros">
            </div>
            <div class="small-number">
              <input type="number" id="aparar-max" readonly>
            </div>

            <span class="normal-text" style="font-size: 20px;">
              <span style="font-size: 13px;">(Vig)</span> Fortitude
            </span>
            <div class="sub-hab">
              <input type="number" id="fortitude-total" readonly>
            </div>
            <div class="stat">
              <input class="dependente defesa" type="number" id="fortitude-grad">
            </div>
            <div class="stat">
              <input class="dependente" type="number" id="fortitude-outros">
            </div>
            <div class="small-number">
              <input type="number" id="fortitude-max" readonly>
            </div>

            <span class="normal-text" style="font-size: 20px;">
              <span style="font-size: 13px;">(Vig)</span> Resistência
            </span>
            <div class="sub-hab">
              <input type="number" id="resistencia-total" readonly>
            </div>
            <div class="stat">
              <input class="dependente" type="number" id="resistencia-grad">
            </div>
            <div class="stat">
              <input class="dependente" type="number" id="resistencia-outros">
            </div>
            <div class="small-number">
              <input type="number" id="resistencia-max" readonly>
            </div>

            <span class="normal-text" style="font-size: 20px;">
              <span style="font-size: 13px;">(Pro)</span> Vontade
            </span>
            <div class="sub-hab">
              <input type="number" id="vontade-total" readonly>
            </div>
            <div class="stat">
              <input class="dependente defesa" type="number" id="vontade-grad">
            </div>
            <div class="stat">
              <input class="dependente" type="number" id="vontade-outros">
            </div>
            <div class="small-number">
              <input type="number" id="vontade-max" readonly>
            </div>
          </div>

          <div class="bloco classe">
            <div style="margin: 5px;" class="span-6">
              <label for="classe">Classe:</label>
              <select name="classes-option" id="classe" onchange="recalcularTudo()">
                <option value="selecione"> — Escolha uma classe — </option>
                <option value="Ajudante">Ajudante</option>
                <option value="Atirador">Atirador</option>
                <option value="Belico">Bélico</option>
                <option value="Guardiao">Guardião</option>
              </select>
            </div>

            <div class="field stat span-4">
              <input type="number" id="corrupcao" style="width: 130px;" title="Corrupção" class="dependente">
              <div style="margin-top: 12px; margin-left: 17px;">
                <span style="margin-right: 15px;">Corrupção</span>
              </div>
            </div>

            <div class="field hability stat span-2">
              <input type="number" id="corrupcao-maximo" style="width: 70px;" title="Limite de Corrupção">
              <div style="margin-top: 12px; margin-left: 10px;">
                <span>Limite</span>
              </div>
            </div>

            <div class="span-6" style="position: relative;">
              <hr align="left" id="corrupcao-margem">
              <hr id="corrupcao-progresso" align="left" style="position: relative; z-index: 2;margin-left: 2px;">
              <script>
                const barra = document.getElementById("corrupcao-progresso");
                const corrupcao = document.getElementById("corrupcao");
                const max = document.getElementById("corrupcao-maximo");

                corrupcao.addEventListener("input", () => atualizarBarra(corrupcao, max));
                max.addEventListener("input", () => atualizarBarra(corrupcao, max));

                atualizarBarra();
              </script>
            </div>

            <div class="field sub-hab span-2 vida-estamina" style="gap: 15px;margin: 5px;">
              <div>
                <input type="number" id="vida" style="width: 100px;" title="Vida" readonly>
                <div style="margin-top: 15px; margin-left: 30px;">
                  <span style="margin-right: 8px;">Vida</span>
                </div>
              </div>
              
              <div>
                <input type="number" id="estamina" style="width: 100px;" title="Estamina" readonly>
                <div style="margin-top: 15px; margin-left: 10px;">
                  <span style="margin-right: 8px;">Estamina</span>
                </div>
              </div>
            </div>

            <div class="field stat span-2" style="margin-left: 20px;padding: 5px;gap: 10px;position: relative;">
              <div>
                <input type="number" id="vida-outros" style="width: 50px;font-size: 20px;margin: auto;" class="dependente">
                <div style="margin-left: 20px;margin-top: 10px;">
                  <span style="margin-right: 8px;">+</span>
                </div>
              </div>
              <div>
                <input type="number" id="estamina-outros" style="width: 50px;font-size: 20px;margin: auto;" class="dependente">
                <div style="margin-top: 30px; margin-left: 20px;">
                    <span style="margin-right: 8px;">+</span>
                </div>
              </div>
            </div>

            <div class="sub-hab span-2" style="gap: 5px;">
              <label for="vida-classe">Bônus da Classe:</label>
              <input type="number" id="vida-classe" style="position: relative;font-size: 20px;" readonly>
              <label for="estamina-classe">Bônus da Classe:</label>
              <input type="number" id="estamina-classe" style="position: relative;font-size: 20px;" readonly>
            </div>
          </div> 
        </div>

        <div class="bloco span-2 vantagens">
          <div style="display: flex;" id="vantagensPorTipo">
            <h1>Vantagens</h1>
            <label for="vantagens-classe">Classe</label>
            <input type="number" id="vantagens-classe" readonly>

            <label for="vantagens-combate">Combate</label>
            <input type="number" id="vantagens-combate" readonly>

            <label for="vantagens-geral">Geral</label>
            <input type="number" id="vantagens-geral" readonly>

            <label for="vantagens-pericia">Pericia</label>
            <input type="number" id="vantagens-pericia" readonly>

            <label for="vantagens-sorte">Sorte</label>
            <input type="number" id="vantagens-sorte" readonly>
          </div>
          
          <div class="vantagens-linha">
            <span>LVL</span>
            <span>Tipo</span>
            <span>Nome</span>
          </div>

          <div id="lista-vantagens">
          </div>

          <div style="justify-self: center;">
              <button onclick="adicionarVantagem();" class="botao-img" id="addVantagem" title="Adicionar Vantagem">
              <img src="img/adicionar.png" alt="Adicionar Vantagem">
            </button>

            <button onclick="removerVantagens();" class="botao-img" id="remVantagem" title="Remover Vantagens Vazias">
              <img src="img/remover.png" alt="Remover Vantagem">
            </button>
          </div>

          <script>
            let contadorVantagens = 0;

            function adicionarVantagem() {
              contadorVantagens++;
              
              const listaVantagens = document.getElementById("lista-vantagens");

              const novaLinha = document.createElement("div");
              novaLinha.className = "vantagens-linha";
              novaLinha.innerHTML = `
                <input type="number" id="vantagem${contadorVantagens}-lvl" title="Nível da Vantagem" class="dependente vantagem">
                <select name="tipo" id="vantagem${contadorVantagens}-tipo" class="dependente tipo-vantagem">
                  <option value="nenhum"> — Tipo — </option>
                  <option value="classe">Classe</option>
                  <option value="combate">Combate</option>
                  <option value="geral">Geral</option>
                  <option value="pericia">Pericia</option>
                  <option value="sorte">Sorte</option>
                </select>
                <input type="text" id="vantagem${contadorVantagens}-nome" title="Vantagem ${contadorVantagens}" class="nome-vantagem">
              `;
                
              listaVantagens.appendChild(novaLinha);
            }
            
            function removerVantagens() {
              document.querySelectorAll(".nome-vantagem").forEach(vantagem => {
                if (vantagem.value.trim() === "") {
                  const linha = vantagem.closest(".vantagens-linha");
                  if (linha) {
                    linha.remove();
                    contadorVantagens--;
                  }
                }
              });

              const linhas = document.querySelectorAll(".vantagens-linha");

              linhas.forEach((linha, index) => {
                const numero = index;

                const lvl = linha.querySelector('input[id$="-lvl"]');
                const tipo = linha.querySelector('select[id$="-tipo"]');
                const nome = linha.querySelector('input[id$="-nome"]');

                if (lvl) {
                  lvl.id = `vantagem${numero}-lvl`;
                }

                if (tipo) {
                  tipo.id = `vantagem${numero}-tipo`;
                }

                if (nome) {
                  nome.id = `vantagem${numero}-nome`;
                  nome.title = `Vantagem ${numero}`;
                }
              });

              recalcularTudo();
            }

          </script>
        
      </div>

      </div>

      <div class="bloco skills">
        <input
          type="text"
          id="tableFilter"
          placeholder="Buscar Perícia..."
          style="border: 2px solid var(--cor-primaria);
                 border-radius: 5px;"
          oninput="filtrarTabela('skills-table')"
        >

        <table id="skills-table", style="width: 100%;">
          <tr class="header-row">
            <th style="width: 34%;">
              <h1>Perícias</h1>
            </th>
            <th>
              <p class="normal-text" style="font-size: 15px; text-align: center;">Total</p>
            </th>
            <th style="width: 14%;">
              <p class="normal-text" style="font-size: 15px; text-align: center;">Mod. de Habilidade</p>
            </th>
            <th style="width: 14%;">
              <p class="normal-text" style="font-size: 15px; text-align: center;">Grad. na Pericia</p>
            </th>
            <th style="width: 14%;">
              <p class="normal-text" style="font-size: 15px; text-align: center;">Outros</p>
            </th>
            <th style="width: 10%;">
              <p class="normal-text" style="font-size: 13px; text-align: center; color: var(--cor-secundaria);">Max</p>
            </th>
          </tr>

          <tr>
            <td>
              <span class="normal-text nome-pericia">
                <span class="hab-pericia">(Agi)</span> Acrobacia*
              </span>
            </td>
            <td>
              <div class="sub-hab">
                <input type="number" id="acrobacia-total" readonly>
              </div>
            </td>
            <td>
              <div class="sub-hab">
                <input class="dependente" type="number" id="acrobacia-hab" readonly>
              </div>
            </td>
            <td>
              <div class="stat">
                <input class="dependente pericia" type="number" id="acrobacia-grad">
              </div>
            </td>
            <td>
              <div class="stat">
                <input class="dependente" type="number" id="acrobacia-outros">
              </div>
            </td>
            <td>
              <div class="small-number">
                <input type="number" id="acrobacia-max" readonly>
              </div>
            </td>
          </tr>

          <tr>
            <td>
              <span class="normal-text nome-pericia">
                <span class="hab-pericia">(For)</span> Atletismo
              </span>
            </td>
            <td>
              <div class="sub-hab">
                <input type="number" id="atletismo-total" readonly>
              </div>
            </td>
            <td>
              <div class="sub-hab">
                <input class="dependente" type="number" id="atletismo-hab" readonly>
              </div>
            </td>
            <td>
              <div class="stat">
                <input class="dependente pericia" type="number" id="atletismo-grad">
              </div>
            </td>
            <td>
              <div class="stat">
                <input class="dependente" type="number" id="atletismo-outros">
              </div>
            </td>
            <td>
              <div class="small-number">
                <input type="number" id="atletismo-max" readonly>
              </div>
            </td>
          </tr>

          <tr>
            <td>
              <div class="field">
                <label for="ccc1"><span class="hab-pericia">(Lut)</span> Combate corpo-a-corpo</label>
                <input type="text" id="ccc1">
                <input type="text" id="ccc2">
                <input type="text" id="ccc3">
              </div>
            </td>
            <td>
              <div class="sub-hab">
                <br>
                <input type="number" id="ccc1-total" readonly>
                <input type="number" id="ccc2-total" readonly>
                <input type="number" id="ccc3-total" readonly>
              </div>
            </td>
            <td>
              <div class="sub-hab">
                <br>
                <input class="dependente" type="number" id="ccc1-hab" style="margin: 2px;" readonly>
                <input class="dependente" type="number" id="ccc2-hab" style="margin: 2px;" readonly>
                <input class="dependente" type="number" id="ccc3-hab" style="margin: 2px;" readonly>
              </div>
            </td>
            <td>
              <div class="stat">
                <br>
                <input class="dependente pericia" type="number" id="ccc1-grad" style="margin: 2px;">
                <input class="dependente pericia" type="number" id="ccc2-grad" style="margin: 2px;">
                <input class="dependente pericia" type="number" id="ccc3-grad" style="margin: 2px;">
              </div>
            </td>
            <td>
              <div class="stat">
                <br>
                <input class="dependente" type="number" id="ccc1-outros" style="margin: 2px;">
                <input class="dependente" type="number" id="ccc2-outros" style="margin: 2px;">
                <input class="dependente" type="number" id="ccc3-outros" style="margin: 2px;">
              </div>
            </td>
            <td>
              <div class="small-number">
                <br>
                <input type="number" id="ccc1-max" readonly>
                <input type="number" id="ccc2-max" readonly>
                <input type="number" id="ccc3-max" readonly>
              </div>
            </td>
          </tr>

          <tr>
            <td>
              <span class="normal-text nome-pericia">
                <span class="hab-pericia">(Pre)</span> Enganação
              </span>
            </td>
            <td>
              <div class="sub-hab">
                <input type="number" id="enganacao-total" readonly>
              </div>
            </td>
            <td>
              <div class="sub-hab">
                <input class="dependente" type="number" id="enganacao-hab" readonly>
              </div>
            </td>
            <td>
              <div class="stat">
                <input class="dependente pericia" type="number" id="enganacao-grad">
              </div>
            </td>
            <td>
              <div class="stat">
                <input class="dependente" type="number" id="enganacao-outros">
              </div>
            </td>
            <td>
              <div class="small-number">
                <input type="number" id="enganacao-max" readonly>
              </div>
            </td>
          </tr>

          <tr>
            <td>
              <div class="field">
                <label for="especialidade1"><span class="hab-pericia">(Int)</span> Especialidade*</label>
                <input type="text" id="especialidade1">
                <input type="text" id="especialidade2">
                <input type="text" id="especialidade3">
                <input type="text" id="especialidade4">
              </div>
            </td>
            <td>
              <div class="sub-hab">
                <br>
                <input type="number" id="especialidade1-total" readonly>
                <input type="number" id="especialidade2-total" readonly>
                <input type="number" id="especialidade3-total" readonly>
                <input type="number" id="especialidade4-total" readonly>
              </div>
            </td>
            <td>
              <div class="sub-hab">
                <br>
                <input class="dependente" type="number" id="especialidade1-hab" style="margin: 2px;" readonly>
                <input class="dependente" type="number" id="especialidade2-hab" style="margin: 2px;" readonly>
                <input class="dependente" type="number" id="especialidade3-hab" style="margin: 2px;" readonly>
                <input class="dependente" type="number" id="especialidade4-hab" style="margin: 2px;" readonly>
              </div>
            </td>
            <td>
              <div class="stat">
                <br>
                <input class="dependente pericia" type="number" id="especialidade1-grad" style="margin: 2px;">
                <input class="dependente pericia" type="number" id="especialidade2-grad" style="margin: 2px;">
                <input class="dependente pericia" type="number" id="especialidade3-grad" style="margin: 2px;">
                <input class="dependente pericia" type="number" id="especialidade4-grad" style="margin: 2px;">
              </div>
            </td>
            <td>
              <div class="stat">
                <br>
                <input class="dependente" type="number" id="especialidade1-outros" style="margin: 2px;">
                <input class="dependente" type="number" id="especialidade2-outros" style="margin: 2px;">
                <input class="dependente" type="number" id="especialidade3-outros" style="margin: 2px;">
                <input class="dependente" type="number" id="especialidade4-outros" style="margin: 2px;">
              </div>
            </td>
            <td>
              <div class="small-number">
                <br>
                <input type="number" id="especialidade1-max" readonly>
                <input type="number" id="especialidade2-max" readonly>
                <input type="number" id="especialidade3-max" readonly>
                <input type="number" id="especialidade4-max" readonly>
              </div>
            </td>
          </tr>

          <tr>
            <td>
              <span class="normal-text nome-pericia">
                <span class="hab-pericia">(Agi)</span> Furtividade
              </span>
            </td>
            <td>
              <div class="sub-hab">
                <input type="number" id="furtividade-total" readonly>
              </div>
            </td>
            <td>
              <div class="sub-hab">
                <input class="dependente" type="number" id="furtividade-hab" readonly>
              </div>
            </td>
            <td>
              <div class="stat">
                <input class="dependente pericia" type="number" id="furtividade-grad">
              </div>
            </td>
            <td>
              <div class="stat">
                <input class="dependente" type="number" id="furtividade-outros">
              </div>
            </td>
            <td>
              <div class="small-number">
                <input type="number" id="furtividade-max" readonly>
              </div>
            </td>
          </tr>

          <tr>
            <td>
              <span class="normal-text nome-pericia">
                <span class="hab-pericia">(Pre)</span> Intimidação
              </span>
            </td>
            <td>
              <div class="sub-hab">
                <input type="number" id="intimidacao-total" readonly>
              </div>
            </td>
            <td>
              <div class="sub-hab">
                <input class="dependente" type="number" id="intimidacao-hab" readonly>
              </div>
            </td>
            <td>
              <div class="stat">
                <input class="dependente pericia" type="number" id="intimidacao-grad">
              </div>
            </td>
            <td>
              <div class="stat">
                <input class="dependente" type="number" id="intimidacao-outros">
              </div>
            </td>
            <td>
              <div class="small-number">
                <input type="number" id="intimidacao-max" readonly>
              </div>
            </td>
          </tr>

          <tr>
            <td>
              <span class="normal-text nome-pericia">
                <span class="hab-pericia">(Pro)</span> Intuição
              </span>
            </td>
            <td>
              <div class="sub-hab">
                <input type="number" id="intuicao-total" readonly>
              </div>
            </td>
            <td>
              <div class="sub-hab">
                <input class="dependente" type="number" id="intuicao-hab" readonly>
              </div>
            </td>
            <td>
              <div class="stat">
                <input class="dependente pericia" type="number" id="intuicao-grad">
              </div>
            </td>
            <td>
              <div class="stat">
                <input class="dependente" type="number" id="intuicao-outros">
              </div>
            </td>
            <td>
              <div class="small-number">
                <input type="number" id="intuicao-max" readonly>
              </div>
            </td>
          </tr>

          <tr>
            <td>
              <span class="normal-text nome-pericia">
                <span class="hab-pericia">(Int)</span> Investigação*
              </span>
            </td>
            <td>
              <div class="sub-hab">
                <input type="number" id="investigacao-total" readonly>
              </div>
            </td>
            <td>
              <div class="sub-hab">
                <input class="dependente" type="number" id="investigacao-hab" readonly>
              </div>
            </td>
            <td>
              <div class="stat">
                <input class="dependente pericia" type="number" id="investigacao-grad">
              </div>
            </td>
            <td>
              <div class="stat">
                <input class="dependente" type="number" id="investigacao-outros">
              </div>
            </td>
            <td>
              <div class="small-number">
                <input type="number" id="investigacao-max" readonly>
              </div>
            </td>
          </tr>

          <tr>
            <td>
              <span class="normal-text nome-pericia">
                <span class="hab-pericia">(Pro)</span> Percepção
              </span>
            </td>
            <td>
              <div class="sub-hab">
                <input type="number" id="percepcao-total" readonly>
              </div>
            </td>
            <td>
              <div class="sub-hab">
                <input class="dependente" type="number" id="percepcao-hab" readonly>
              </div>
            </td>
            <td>
              <div class="stat">
                <input class="dependente pericia" type="number" id="percepcao-grad">
              </div>
            </td>
            <td>
              <div class="stat">
                <input class="dependente" type="number" id="percepcao-outros">
              </div>
            </td>
            <td>
              <div class="small-number">
                <input type="number" id="percepcao-max" readonly>
              </div>
            </td>
          </tr>

          <tr>
            <td>
              <div class="field">
                <label for="ccc1"><span class="hab-pericia">(Des)</span> Combate à Distância</label>
                <input type="text" id="cad1">
                <input type="text" id="cad2">
                <input type="text" id="cad3">
              </div>
            </td>
            <td>
              <div class="sub-hab">
                <br>
                <input type="number" id="cad1-total" readonly>
                <input type="number" id="cad2-total" readonly>
                <input type="number" id="cad3-total" readonly>
              </div>
            </td>
            <td>
              <div class="sub-hab">
                <br>
                <input class="dependente" type="number" id="cad1-hab" style="margin: 2px;" readonly>
                <input class="dependente" type="number" id="cad2-hab" style="margin: 2px;" readonly>
                <input class="dependente" type="number" id="cad3-hab" style="margin: 2px;" readonly>
              </div>
            </td>
            <td>
              <div class="stat">
                <br>
                <input class="dependente pericia" type="number" id="cad1-grad" style="margin: 2px;">
                <input class="dependente pericia" type="number" id="cad2-grad" style="margin: 2px;">
                <input class="dependente pericia" type="number" id="cad3-grad" style="margin: 2px;">
              </div>
            </td>
            <td>
              <div class="stat">
                <br>
                <input class="dependente" type="number" id="cad1-outros" style="margin: 2px;">
                <input class="dependente" type="number" id="cad2-outros" style="margin: 2px;">
                <input class="dependente" type="number" id="cad3-outros" style="margin: 2px;">
              </div>
            </td>
            <td>
              <div class="small-number">
                <br>
                <input type="number" id="cad1-max" readonly>
                <input type="number" id="cad2-max" readonly>
                <input type="number" id="cad3-max" readonly>
              </div>
            </td>
          </tr>

          <tr>
            <td>
              <span class="normal-text nome-pericia">
                <span class="hab-pericia">(Pre)</span> Persuasão
              </span>
            </td>
            <td>
              <div class="sub-hab">
                <input type="number" id="persuasao-total" readonly>
              </div>
            </td>
            <td>
              <div class="sub-hab">
                <input class="dependente" type="number" id="persuasao-hab" readonly>
              </div>
            </td>
            <td>
              <div class="stat">
                <input class="dependente pericia" type="number" id="persuasao-grad">
              </div>
            </td>
            <td>
              <div class="stat">
                <input class="dependente" type="number" id="persuasao-outros">
              </div>
            </td>
            <td>
              <div class="small-number">
                <input type="number" id="persuasao-max" readonly>
              </div>
            </td>
          </tr>

          <tr>
            <td>
              <span class="normal-text nome-pericia">
                <span class="hab-pericia">(Des)</span> Prestidigitação*
              </span>
            </td>
            <td>
              <div class="sub-hab">
                <input type="number" id="prestidigitacao-total" readonly>
              </div>
            </td>
            <td>
              <div class="sub-hab">
                <input class="dependente" type="number" id="prestidigitacao-hab" readonly>
              </div>
            </td>
            <td>
              <div class="stat">
                <input class="dependente pericia" type="number" id="prestidigitacao-grad">
              </div>
            </td>
            <td>
              <div class="stat">
                <input class="dependente" type="number" id="prestidigitacao-outros">
              </div>
            </td>
            <td>
              <div class="small-number">
                <input type="number" id="prestidigitacao-max" readonly>
              </div>
            </td>
          </tr>

          <tr>
            <td>
              <span class="normal-text nome-pericia">
                <span class="hab-pericia">(Int)</span> Tecnologia*
              </span>
            </td>
            <td>
              <div class="sub-hab">
                <input type="number" id="tecnologia-total" readonly>
              </div>
            </td>
            <td>
              <div class="sub-hab">
                <input class="dependente" type="number" id="tecnologia-hab" readonly>
              </div>
            </td>
            <td>
              <div class="stat">
                <input class="dependente pericia" type="number" id="tecnologia-grad">
              </div>
            </td>
            <td>
              <div class="stat">
                <input class="dependente" type="number" id="tecnologia-outros">
              </div>
            </td>
            <td>
              <div class="small-number">
                <input type="number" id="tecnologia-max" readonly>
              </div>
            </td>
          </tr>

          <tr>
            <td>
              <span class="normal-text nome-pericia">
                <span class="hab-pericia">(Int)</span> Tratamento*
              </span>
            </td>
            <td>
              <div class="sub-hab">
                <input type="number" id="tratamento-total" readonly>
              </div>
            </td>
            <td>
              <div class="sub-hab">
                <input class="dependente" type="number" id="tratamento-hab" readonly>
              </div>
            </td>
            <td>
              <div class="stat">
                <input class="dependente pericia" type="number" id="tratamento-grad">
              </div>
            </td>
            <td>
              <div class="stat">
                <input class="dependente" type="number" id="tratamento-outros">
              </div>
            </td>
            <td>
              <div class="small-number">
                <input type="number" id="tratamento-max" readonly>
              </div>
            </td>
          </tr>

          <tr>
            <td>
              <span class="normal-text nome-pericia">
                <span class="hab-pericia">(Des)</span> Veículos*
              </span>
            </td>
            <td>
              <div class="sub-hab">
                <input type="number" id="veiculos-total" readonly>
              </div>
            </td>
            <td>
              <div class="sub-hab">
                <input class="dependente" type="number" id="veiculos-hab" readonly>
              </div>
            </td>
            <td>
              <div class="stat">
                <input class="dependente pericia" type="number" id="veiculos-grad">
              </div>
            </td>
            <td>
              <div class="stat">
                <input class="dependente" type="number" id="veiculos-outros">
              </div>
            </td>
            <td>
              <div class="small-number">
                <input type="number" id="veiculos-max" readonly>
              </div>
            </td>
          </tr>
          
        </table>
      </div>

    </div>
  </div>

  <div class="barra-lateral">
    <button onclick="limparFicha()" class="botao-img">
      <img src="img/novo.png" title="Nova Ficha">
    </button>

    <button onclick="salvarFicha()" class="botao-img">
      <img src="img/save.png" title="Salvar Ficha">
    </button>

    <button onclick="deletarFicha()" class="botao-img">
      <img src="img/delete.png" title="Apagar Ficha">
    </button>

    <button onclick="exportarFicha()" class="botao-img">
      <img src="img/download.png" title="Baixar Ficha JSON">
    </button>

    <input type="file" accept=".json" onchange="importarFicha(event)" hidden id="import">
    <label for="import" class="botao-img">
      <img src="img/open.png" alt="Abrir Ficha Json" title="Abrir Ficha JSON" class="botao-img" style="box-sizing: border-box; padding: 3px;">
    </label>

    <div style="display: flex; margin-top: auto; gap: 10px; flex-direction: column;">
      <a href="https://www.notion.so/Hoffens-Path-RPG-4cbf631f801b45c1ab5b2f7f3fb488e5" class="botao-img" target="_blank">
        <img src="img/notion-icon.webp" alt="Notion - Hoffens Path WIKI" title="Notion - Hoffens Path WIKI" style="padding: 2px; box-sizing: border-box;">
      </a>

      <a href="https://docs.google.com/spreadsheets/d/1PTROQKU6QPmQJRAT3RNzee_qdXQTz9c_laLGEJlCksU/edit?usp=drive_link" class="botao-img" target="_blank">
        <img src="img/tabela.png" alt="Tabela de graduações" title="Tabela de Graduações" style="padding: 2px; box-sizing: border-box;">
      </a>

      <a href="https://drive.google.com/file/d/1R_ijTMra_w-1Mz8orpTHp8HBhk5dltK3/view?usp=sharing" class="botao-img" target="_blank">
        <img src="img/sistema.png" alt="Mutantes e Malfeitores - Módulo Básico" title="Mutantes e Malfeitores - Módulo Básico" style="padding: 2px;">
      </a>

      <a href="https://docs.google.com/document/d/1O_l7hkSmeshOtU921rGBhUMwSorntJLCDy7jn23SQxI/edit?usp=sharing" class="botao-img" target="_blank">
        <img src="img/patch.png" alt="Hoffens Patch Note" title="Hoffens Patch Note" style="padding: 2px;">
      </a>

      <button class="botao-img" onclick="abrirMenu('menu-ajustes');" title="Ajustes" id="botao-ajustes">
        <img src="img/ajustes.png" alt="Ajustes">
      </button>

      <div id="menu-ajustes" class="menu">
        <div class="grupo-ajustes">
          <div class="opcao-ajuste" onclick="abrirMenu('menu-tema')">
            <span>Tema</span>
          </div>

          <div class="opcao-ajuste" onclick="abrirMenu('menu-cor')">
            <span>Cor</span>
          </div>

          <div class="opcao-ajuste" onclick="abrirMenu('menu-fundo')">
            <span>Imagem de Fundo</span>
          </div>

          <div class="menu" id="menu-tema">
            <div>
              <input type="radio" id="escuro" value="escuro" name="tema" class="personalizacao radio-cor" checked>
              <label for="escuro">Escuro</label>
            </div>
            <div>
              <input type="radio" id="claro" value="claro" name="tema" class="personalizacao">
              <label for="claro">Claro</label>
            </div>
          </div>

          <div class="menu" id="menu-cor">
            <input type="radio" name="cor" id="azul-claro" value="azul-claro" class="personalizacao" checked title="Azul Claro">
            <label for="azul-claro" style="--cor-opcao: #5a7bfe">Azul Claro</label>

            <input type="radio" name="cor" id="laranja" value="laranja" class="personalizacao" title="Laranja">
            <label for="laranja" style="--cor-opcao: #ff893a">Laranja</label>

            <input type="radio" name="cor" id="amarelo" value="amarelo" class="personalizacao" title="Amarelo">
            <label for="amarelo" style="--cor-opcao: #e8d826">Amarelo</label>

            <input type="radio" name="cor" id="vermelho" value="vermelho" class="personalizacao" title="Vermelho">
            <label for="vermelho" style="--cor-opcao: #ed303c">Vermelho</label>

            <input type="radio" name="cor" id="verde" value="verde" class="personalizacao" title="Verde">
            <label for="verde" style="--cor-opcao: #108009">Verde</label>

            <input type="radio" name="cor" id="roxo" value="roxo" class="personalizacao" title="Roxo">
            <label for="roxo" style="--cor-opcao: #982296">Roxo</label>

            <input type="radio" name="cor" id="rosa" value="rosa" class="personalizacao" title="Rosa">
            <label for="rosa" style="--cor-opcao: #ffa4c4">Rosa</label>
          </div>

          <div class="menu" id="menu-fundo">
            <div class="opcao-ajuste">
              <input type="file" id="background-img" accept=".png" onchange="trocarFundo(event);" class="personalizacao">
            </div>
            
            <div class="opcao-ajuste" onclick="removerFundo();">
              <span>Remover Imagem</span>
            </div>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="barra-superior">
    <div id="barraPontos">
      <div class="sub-barra-pontos">
        <span>Pontos do Personagem:</span>
        <label for="total-pontos-habilidades">Habilidades:</label>
        <input type="number" id="total-pontos-habilidades" readonly>

        <label for="total-pontos-poderes">+ Poderes:</label>
        <input type="number" id="total-pontos-poderes" readonly>

        <label for="total-pontos-vantagens">+ Vantagens:</label>
        <input type="number" id="total-pontos-vantagens" readonly>

        <label for="total-pontos-pericias">+ Perícias:</label>
        <input type="number" id="total-pontos-pericias" readonly>

        <label for="total-pontos-defesas">+ Defesas:</label>
        <input type="number" id="total-pontos-defesas" readonly>

        <label for="total-personagem">=</label>
        <input type="number" id="total-personagem" readonly>
      </div>

      <div class="sub-barra-pontos">
        <label for="total-pontos">Total de Pontos:</label>
        <input type="number" id="total-pontos" readonly>
      </div>

      <div class="sub-barra-pontos">
        <label for="restando-pontos">Pontos Restantes:</label>
        <input type="number" id="restando-pontos" readonly>
      </div>
      
    </div>
  </div>
  

  <script src="script.js"></script>
  <script src="theme.js"></script>
</body>
</html>
